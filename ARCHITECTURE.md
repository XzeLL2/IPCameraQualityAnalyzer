# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° IP Camera Quality Analyzer

Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ñ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¼ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ ĞºĞ»Ğ°ÑÑĞ¾Ğ², Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ Ğ¸ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹.

---

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

- [ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±Ğ·Ğ¾Ñ€](#-Ğ¾Ğ±Ñ‰Ğ¸Ğ¹-Ğ¾Ğ±Ğ·Ğ¾Ñ€)
- [ĞœĞ½Ğ¾Ğ³Ğ¾Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#-Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
- [Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ](#-ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ°Ñ-Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ)
- [Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ°ÑÑĞ¾Ğ²](#-Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ-Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ-ĞºĞ»Ğ°ÑÑĞ¾Ğ²)
- [Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ](#-Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹-Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ)
- [ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°](#-Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°)
- [ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº](#-Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°-Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº)
- [ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ](#-Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ)

---

## ğŸ—ï¸ ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±Ğ·Ğ¾Ñ€

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IP Camera Quality Analyzer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Application Layer                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚   â”‚
â”‚  â”‚  â”‚     main.cpp     â”‚ â€¢ Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Qt Application            â”‚   â”‚
â”‚  â”‚  â”‚                  â”‚ â€¢ ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸     â”‚   â”‚
â”‚  â”‚  â”‚                  â”‚ â€¢ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ MainWindow                     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Presentation Layer                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚   â”‚
â”‚  â”‚  â”‚   MainWindow     â”‚ â€¢ GUI Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ                         â”‚   â”‚
â”‚  â”‚  â”‚   (Qt Widgets)   â”‚ â€¢ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°Ğ¼Ğ¸                   â”‚   â”‚
â”‚  â”‚  â”‚                  â”‚ â€¢ ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº                      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚   â”‚
â”‚  â”‚           â–²                      â”‚                               â”‚   â”‚
â”‚  â”‚           â”‚       signals        â”‚                               â”‚   â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Business Logic Layer                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚   CameraWorker   â”‚  â”‚   ImageQualityAnalyzer         â”‚      â”‚   â”‚
â”‚  â”‚  â”‚   (per camera)   â”‚  â”‚   (shared)                      â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     Data Access Layer                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              cv::VideoCapture (OpenCV)                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚              RTSP Protocol                                â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

| Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|---------|------------|------------|
| UI Framework | Qt5 Widgets | Ğ“Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ |
| Video Processing | OpenCV 4.x | Ğ—Ğ°Ñ…Ğ²Ğ°Ñ‚ Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ğ¸Ğ´ĞµĞ¾ |
| Concurrency | QThread + Signals/Slots | ĞœĞ½Ğ¾Ğ³Ğ¾Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ |
| Build System | CMake | Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° |
| Standard | C++17 | Ğ¯Ğ·Ñ‹Ğº Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ |

---

## ğŸ”„ ĞœĞ½Ğ¾Ğ³Ğ¾Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Thread Model                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Main Thread (UI)                                                       â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                     â”‚
â”‚  â€¢ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Qt                                                 â”‚
â”‚  â€¢ ĞÑ‚Ñ€Ğ¸ÑĞ¾Ğ²ĞºĞ° GUI                                                        â”‚
â”‚  â€¢ ĞŸÑ€Ğ¸ĞµĞ¼ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² Ğ¾Ñ‚ workers                                            â”‚
â”‚                                                                         â”‚
â”‚         â–²                                                                â”‚
â”‚         â”‚ Qt::QueuedConnection                                          â”‚
â”‚         â”‚ (Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°)                                        â”‚
â”‚         â–¼                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Worker Thread #1                                        â”‚          â”‚
â”‚  â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                    â”‚          â”‚
â”‚  â”‚  â€¢ CameraWorker instance                                 â”‚          â”‚
â”‚  â”‚  â€¢ RTSP connection                                       â”‚          â”‚
â”‚  â”‚  â€¢ Frame processing                                      â”‚          â”‚
â”‚  â”‚  â€¢ Quality analysis                                      â”‚          â”‚
â”‚  â”‚                                                          â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚          â”‚
â”‚  â”‚  â”‚ VideoCapture   â”‚â”€â”€â”€â–¶â”‚ QualityAnalyzerâ”‚              â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Worker Thread #2                                        â”‚          â”‚
â”‚  â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                    â”‚          â”‚
â”‚  â”‚  â€¢ CameraWorker instance                                 â”‚          â”‚
â”‚  â”‚  â€¢ RTSP connection                                       â”‚          â”‚
â”‚  â”‚  â€¢ Frame processing                                      â”‚          â”‚
â”‚  â”‚  â€¢ Quality analysis                                      â”‚          â”‚
â”‚  â”‚                                                          â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚          â”‚
â”‚  â”‚  â”‚ VideoCapture   â”‚â”€â”€â”€â–¶â”‚ QualityAnalyzerâ”‚              â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Worker Thread #N                                        â”‚          â”‚
â”‚  â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                    â”‚          â”‚
â”‚  â”‚  ...                                                     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹ Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸

#### 1. Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ²

ĞšĞ°Ğ¶Ğ´Ğ°Ñ ĞºĞ°Ğ¼ĞµÑ€Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² ÑĞ²Ğ¾ĞµĞ¼ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞµ:

```cpp
// Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ğ´Ğ»Ñ ĞºĞ°Ğ¼ĞµÑ€Ñ‹
QThread* workerThread = new QThread(this);
CameraWorker* worker = new CameraWorker(rtspUrl);

worker->moveToThread(workerThread);

// Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°
connect(workerThread, &QThread::started, worker, &CameraWorker::startCapture);
workerThread->start();
```

#### 2. Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ°Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Qt Signals/Slots Ñ `Qt::QueuedConnection` Ğ´Ğ»Ñ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ¹ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸:

```cpp
// GUI Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
connect(worker, &CameraWorker::frameReady, 
    this, [this, cameraId](const QImage& image) {
        updateFrame(cameraId, image);
    }, Qt::QueuedConnection);
```

#### 3. ĞÑ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ñ‹Ğµ Ñ„Ğ»Ğ°Ğ³Ğ¸ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ

```cpp
std::atomic<bool> m_capturing{false};
std::atomic<bool> m_connected{false};
```

### Ğ–Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ» Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° ĞºĞ°Ğ¼ĞµÑ€Ñ‹

```
     startCapture()                  stopCapture()
         â”‚                               â”‚
         â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ STOPPED â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ RUNNING â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚               â”‚
         â”‚              â–¼               â”‚
         â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
         â”‚        â”‚  ERROR   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚        â”‚ STATE    â”‚
         â”‚        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚             â”‚
         â”‚             â–¼
         â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        â”‚ RECONNECTâ”‚
         â”‚        â”‚  ATTEMPT â”‚
         â”‚        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ

### Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ»Ñ‹ Ğ¸ ÑĞ»Ğ¾Ñ‚Ñ‹

```
MainWindow (GUI Thread)
        â”‚
        â”‚ â—€â”€â”€ connectionStatusChanged(bool, QString)
        â”‚ â—€â”€â”€ frameReady(QImage)
        â”‚ â—€â”€â”€ qualityResultReady(QualityResult)
        â”‚ â—€â”€â”€ errorOccurred(QString)
        â”‚ â—€â”€â”€ connectionLost()
        â”‚
        â–¼
CameraWorker (Worker Thread)
        â”‚
        â”‚ â—€â”€â”€ processFrame() [from QTimer]
        â”‚
        â–¼
cv::VideoCapture (OpenCV)
        â”‚
        â”‚ RTSP Stream
        â–¼
IP Camera
```

### Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²

```
CameraWorker Signals                    MainWindow Slots
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

frameReady(image)     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  updateFrame(cameraId, image)
                                          â”‚
                                          â–¼
                                    QLabel::setPixmap()

qualityResultReady    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  updateQualityResult(cameraId, result)
(result)                                    â”‚
                                            â–¼
                                    QProgressBar updates
                                    QLabel score update

connectionStatus      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  handleConnectionStatus(cameraId, 
(connected, msg)                            connected, msg)
                                            â”‚
                                            â–¼
                                    Status bar update

errorOccurred         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  handleError(cameraId, errorText)
(errorText)                                â”‚
                                            â–¼
                                    Log warning
                                    Show error

connectionLost()       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  handleConnectionLost(cameraId)
                                            â”‚
                                            â–¼
                                    Try reconnect
                                    Update status
```

---

## ğŸ“¦ Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ°ÑÑĞ¾Ğ²

### MainWindow

**Ğ¤Ğ°Ğ¹Ğ»:** [`src/mainwindow.h`](src/mainwindow.h), [`src/mainwindow.cpp`](src/mainwindow.cpp)

#### ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ÑÑ‰ĞµĞµ:
- GUI Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ³Ğ¾ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸ĞµĞ¹ ĞºĞ°Ğ¼ĞµÑ€
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº

#### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° ĞºĞ»Ğ°ÑÑĞ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             MainWindow                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - m_centralWidget: QWidget*            â”‚
â”‚ - m_cameraTabs: QTabWidget*            â”‚
â”‚ - m_rtspInput: QLineEdit*              â”‚
â”‚ - m_addButton: QPushButton*            â”‚
â”‚ - m_removeButton: QPushButton*         â”‚
â”‚ - m_statusBar: QStatusBar*             â”‚
â”‚ - m_activityTimer: QTimer*             â”‚
â”‚                                          â”‚
â”‚ - m_cameraWorkers: QMap<int, Worker*>  â”‚
â”‚ - m_cameraThreads: QMap<int, QThread*> â”‚
â”‚ - m_cameraUrls: QMap<int, QString>     â”‚
â”‚ - m_frameLabels: QMap<int, QLabel*>    â”‚
â”‚ - m_scoreLabels: QMap<int, QLabel*>    â”‚
â”‚ - m_nextCameraId: int                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + MainWindow(QWidget* = nullptr)        â”‚
â”‚ + ~MainWindow()                         â”‚
â”‚                                          â”‚
â”‚ + setRtspInput(const QString&)          â”‚
â”‚ + showAbout()                           â”‚
â”‚                                          â”‚
â”‚ # closeEvent(QCloseEvent*)              â”‚
â”‚                                          â”‚
â”‚ - addCamera() [slot]                    â”‚
â”‚ - removeCamera() [slot]                 â”‚
â”‚ - updateFrame(int, QImage) [slot]       â”‚
â”‚ - updateQualityResult(int, Result)      â”‚
â”‚ - handleConnectionStatus(int, bool,     â”‚
â”‚   QString) [slot]                       â”‚
â”‚ - handleError(int, QString) [slot]      â”‚
â”‚ - handleConnectionLost(int) [slot]     â”‚
â”‚ - updateActivityTimer() [slot]         â”‚
â”‚                                          â”‚
â”‚ - setupUi()                             â”‚
â”‚ - addCameraTab(int, QString)            â”‚
â”‚ - removeCameraTab(int)                  â”‚
â”‚ - generateCameraId(): int               â”‚
â”‚ - stopAllCameras()                      â”‚
â”‚ - getQualityColor(double): QColor       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹

| ĞœĞµÑ‚Ğ¾Ğ´ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ |
|-------|----------|-----------|
| `addCamera()` | Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ½Ğ¾Ğ²ÑƒÑ ĞºĞ°Ğ¼ĞµÑ€Ñƒ | O(1) |
| `removeCamera()` | Ğ£Ğ´Ğ°Ğ»ÑĞµÑ‚ Ñ‚ĞµĞºÑƒÑ‰ÑƒÑ ĞºĞ°Ğ¼ĞµÑ€Ñƒ | O(1) |
| `updateFrame()` | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ´Ñ€Ğ° | O(1) |
| `updateQualityResult()` | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° | O(1) |

#### Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ GUI

```cpp
void MainWindow::setupUi()
{
    // Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ğ°
    m_centralWidget = new QWidget(this);
    setCentralWidget(m_centralWidget);
    
    // ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ layout
    m_mainLayout = new QVBoxLayout(m_centralWidget);
    
    // ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ²Ğ²Ğ¾Ğ´Ğ° RTSP URL
    m_inputLayout = new QHBoxLayout();
    m_rtspInput = new QLineEdit(this);
    m_addButton = new QPushButton("Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ°Ğ¼ĞµÑ€Ñƒ", this);
    m_removeButton = new QPushButton("Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞºĞ°Ğ¼ĞµÑ€Ñƒ", this);
    
    // Ğ’ĞºĞ»Ğ°Ğ´ĞºĞ¸ Ğ´Ğ»Ñ ĞºĞ°Ğ¼ĞµÑ€
    m_cameraTabs = new QTabWidget(this);
    m_cameraTabs->setTabsClosable(true);
    m_cameraTabs->setMovable(true);
    
    // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ±Ğ°Ñ€
    m_statusBar = new QStatusBar(this);
    m_statusLabel = new QLabel("Ğ“Ğ¾Ñ‚Ğ¾Ğ²");
    m_cameraCountLabel = new QLabel("ĞšĞ°Ğ¼ĞµÑ€: 0");
    m_timeLabel = new QLabel("Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ: --:--:--");
}
```

#### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹

```cpp
void MainWindow::addCamera()
{
    QString rtspUrl = m_rtspInput->text().trimmed();
    
    // Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ URL
    if (rtspUrl.isEmpty()) {
        m_statusLabel->setText("ĞÑˆĞ¸Ğ±ĞºĞ°: Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ RTSP URL");
        return;
    }
    
    if (!rtspUrl.startsWith("rtsp://", Qt::CaseInsensitive)) {
        m_statusLabel->setText("ĞÑˆĞ¸Ğ±ĞºĞ°: URL Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°Ñ‚ÑŒÑÑ Ñ rtsp://");
        return;
    }
    
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° Ğ´ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ‚
    if (m_cameraUrls.values().contains(rtspUrl)) {
        m_statusLabel->setText("ĞÑˆĞ¸Ğ±ĞºĞ°: Ğ­Ñ‚Ğ° ĞºĞ°Ğ¼ĞµÑ€Ğ° ÑƒĞ¶Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ°");
        return;
    }
    
    int cameraId = generateCameraId();
    
    // Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ğ¸ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ğ°
    QThread* workerThread = new QThread(this);
    CameraWorker* worker = new CameraWorker(rtspUrl);
    
    worker->moveToThread(workerThread);
    
    // ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²
    connect(workerThread, &QThread::started, worker, &CameraWorker::startCapture);
    connect(worker, &CameraWorker::frameReady, this, &MainWindow::updateFrame, Qt::QueuedConnection);
    connect(worker, &CameraWorker::qualityResultReady, this, &MainWindow::updateQualityResult, Qt::QueuedConnection);
    
    // Ğ—Ğ°Ğ¿ÑƒÑĞº
    workerThread->start();
}
```

#### ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº

```cpp
void MainWindow::updateQualityResult(int cameraId, const QualityResult& result)
{
    // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ progress bars
    noiseBar->setValue(static_cast<int>(100 - result.noiseScore));
    contrastBar->setValue(static_cast<int>(result.contrastScore));
    sharpnessBar->setValue(static_cast<int>(result.sharpnessScore));
    overexposedBar->setValue(static_cast<int>(result.overexposedPercent));
    
    // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ñ‰ĞµĞ¹ Ğ¾Ñ†ĞµĞ½ĞºĞ¸
    scoreLabel->setText(QString("ĞÑ†ĞµĞ½ĞºĞ°: %1").arg(static_cast<int>(result.overallScore)));
    scoreLabel->setStyleSheet(QString("color: %1;").arg(getQualityColor(result.overallScore).name()));
}
```

---

### CameraWorker

**Ğ¤Ğ°Ğ¹Ğ»:** [`src/cameraworker.h`](src/cameraworker.h), [`src/cameraworker.cpp`](src/cameraworker.cpp)

#### ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° RTSP Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞµ:
- Ğ—Ğ°Ñ…Ğ²Ğ°Ñ‚ Ğ²Ğ¸Ğ´ĞµĞ¾ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ñ IP ĞºĞ°Ğ¼ĞµÑ€Ñ‹
- ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ğ² GUI
- ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸ĞµĞ¼

#### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° ĞºĞ»Ğ°ÑÑĞ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             CameraWorker                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - m_rtspUrl: QString                   â”‚
â”‚ - m_videoCapture: cv::VideoCapture    â”‚
â”‚ - m_qualityAnalyzer: ImageQuality*     â”‚
â”‚ - m_frameTimer: QTimer*                â”‚
â”‚ - m_lastQualityResult: QualityResult   â”‚
â”‚                                          â”‚
â”‚ - m_capturing: std::atomic<bool>       â”‚
â”‚ - m_connected: std::atomic<bool>       â”‚
â”‚ - m_reconnectAttempts: int             â”‚
â”‚ - m_frameSkipCounter: int              â”‚
â”‚                                          â”‚
â”‚ - MAX_RECONNECT_ATTEMPTS: const int     â”‚
â”‚ - FRAME_INTERVAL_MS: const int         â”‚
â”‚ - QUALITY_ANALYSIS_SKIP: const int     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + CameraWorker(const QString&, QObject*â”‚
â”‚   = nullptr)                            â”‚
â”‚ + ~CameraWorker()                       â”‚
â”‚                                          â”‚
â”‚ + startCapture()                        â”‚
â”‚ + stopCapture()                         â”‚
â”‚ + isConnected(): bool                   â”‚
â”‚ + getRtspUrl(): QString                 â”‚
â”‚ + getLastQualityResult(): QualityResult â”‚
â”‚                                          â”‚
â”‚ # processFrame() [slot]                 â”‚
â”‚                                          â”‚
â”‚ - initializeCapture(): bool             â”‚
â”‚ - cleanupCapture()                      â”‚
â”‚ - tryReconnect()                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SIGNALS:                                â”‚
â”‚ - frameReady(const QImage&)             â”‚
â”‚ - qualityResultReady(const               â”‚
â”‚   QualityResult&)                       â”‚
â”‚ - connectionStatusChanged(bool,         â”‚
â”‚   const QString&)                       â”‚
â”‚ - errorOccurred(const QString&)         â”‚
â”‚ - connectionLost()                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

```cpp
// ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ
static constexpr int MAX_RECONNECT_ATTEMPTS = 5;

// Ğ˜Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ» Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ°Ğ´Ñ€Ğ°Ğ¼Ğ¸ (Ğ¼Ñ) - ~30 FPS
static constexpr int FRAME_INTERVAL_MS = 33;

// ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞº ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ğ¿ĞµÑ€ĞµĞ´ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ¼ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ°
// Ğ¡Ğ½Ğ¸Ğ¶Ğ°ĞµÑ‚ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ Ğ½Ğ° CPU
static constexpr int QUALITY_ANALYSIS_SKIP = 10;
```

#### Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ñ…Ğ²Ğ°Ñ‚Ğ°

```cpp
bool CameraWorker::initializeCapture()
{
    // ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ RTSP Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ FFmpeg
    m_videoCapture.open(m_rtspUrl.toStdString(), cv::CAP_FFMPEG);
    
    if (!m_videoCapture.isOpened()) {
        qWarning() << "Failed to open RTSP stream:" << m_rtspUrl;
        return false;
    }
    
    // ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±ÑƒÑ„ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸
    m_videoCapture.set(cv::CAP_PROP_BUFFERSIZE, 1);
    
    qInfo() << "Successfully initialized RTSP stream:" << m_rtspUrl;
    return true;
}
```

#### ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºĞ°Ğ´Ñ€Ğ°

```cpp
void CameraWorker::processFrame()
{
    if (!m_capturing.load()) return;
    
    try {
        cv::Mat frame;
        bool success = m_videoCapture.read(frame);
        
        if (!success || frame.empty()) {
            qWarning() << "Failed to grab frame from" << m_rtspUrl;
            if (m_connected.load()) {
                tryReconnect();
            }
            return;
        }
        
        // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ĞºĞ°Ğ´Ñ€Ğ° Ğ² GUI
        QImage image = ImageQualityAnalyzer::matToQImage(frame);
        if (!image.isNull()) {
            emit frameReady(image);
        }
        
        // ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ N ĞºĞ°Ğ´Ñ€Ğ¾Ğ²
        m_frameSkipCounter++;
        if (m_qualityAnalyzer && m_frameSkipCounter >= QUALITY_ANALYSIS_SKIP) {
            m_frameSkipCounter = 0;
            m_lastQualityResult = m_qualityAnalyzer->analyze(frame);
            emit qualityResultReady(m_lastQualityResult);
        }
    } catch (...) {
        qWarning() << "Exception in processFrame for" << m_rtspUrl;
    }
}
```

#### ĞŸĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ñ€Ğ°Ğ·Ñ€Ñ‹Ğ²Ğµ

```cpp
void CameraWorker::tryReconnect()
{
    if (m_reconnectAttempts >= MAX_RECONNECT_ATTEMPTS) {
        qWarning() << "Max reconnect attempts reached for" << m_rtspUrl;
        emit errorOccurred("Connection lost. Max reconnect attempts reached.");
        stopCapture();
        return;
    }
    
    m_reconnectAttempts++;
    qInfo() << "Attempting reconnect" << m_reconnectAttempts 
            << "of" << MAX_RECONNECT_ATTEMPTS;
    
    cleanupCapture();
    
    // Ğ­ĞºÑĞ¿Ğ¾Ğ½ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ°
    QThread::msleep(1000 * m_reconnectAttempts);
    
    if (initializeCapture()) {
        m_connected.store(true);
        emit connectionStatusChanged(true, "Reconnected to " + m_rtspUrl);
    } else {
        emit connectionStatusChanged(false, "Reconnect failed...");
    }
}
```

---

### ImageQualityAnalyzer

**Ğ¤Ğ°Ğ¹Ğ»:** [`src/imagequalityanalyzer.h`](src/imagequalityanalyzer.h), [`src/imagequalityanalyzer.cpp`](src/imagequalityanalyzer.cpp)

#### ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

ĞšĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ²Ğ¸Ğ´ĞµĞ¾ĞºĞ°Ğ´Ñ€Ğ° Ğ¿Ğ¾ 4 Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼:
- Ğ¨ÑƒĞ¼Ğ½Ğ¾ÑÑ‚ÑŒ (Noise)
- ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ (Contrast)
- Ğ ĞµĞ·ĞºĞ¾ÑÑ‚ÑŒ (Sharpness)
- ĞŸĞµÑ€ĞµÑĞ²ĞµÑ‡ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ (Overexposed)

#### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° ĞºĞ»Ğ°ÑÑĞ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ImageQualityAnalyzer             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ WEIGHTS:                                â”‚
â”‚ - NOISE_WEIGHT: const double = 0.25    â”‚
â”‚ - CONTRAST_WEIGHT: const double = 0.25 â”‚
â”‚ - SHARPNESS_WEIGHT: const double = 0.35â”‚
â”‚ - OVEREXPOSED_WEIGHT: const double      â”‚
â”‚   = 0.15                               â”‚
â”‚                                          â”‚
â”‚ THRESHOLDS:                             â”‚
â”‚ - OVEREXPOSED_THRESHOLD: const int     â”‚
â”‚   = 245                                â”‚
â”‚ - IDEAL_CONTRAST: const double = 160.0  â”‚
â”‚ - IDEAL_SHARPNESS: const double = 400.0â”‚
â”‚ - MAX_NOISE_VARIANCE: const double     â”‚
â”‚   = 50.0                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + ImageQualityAnalyzer(QObject* =      â”‚
â”‚   nullptr)                              â”‚
â”‚ + ~ImageQualityAnalyzer()              â”‚
â”‚                                          â”‚
â”‚ + analyze(const cv::Mat&): QualityResultâ”‚
â”‚ + matToQImage(const cv::Mat&): QImage  â”‚
â”‚                                          â”‚
â”‚ # calculateNoiseScore(const cv::Mat&)   â”‚
â”‚ # calculateContrastScore(const          â”‚
â”‚   cv::Mat&)                             â”‚
â”‚ # calculateSharpnessScore(const         â”‚
â”‚   cv::Mat&)                             â”‚
â”‚ # calculateOverexposedPercentage(       â”‚
â”‚   const cv::Mat&)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SIGNALS:                                â”‚
â”‚ - analysisCompleted(const               â”‚
â”‚   QualityResult&)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° QualityResult

```cpp
struct QualityResult {
    double noiseScore;           // 0-100, Ğ²Ñ‹ÑˆĞµ = Ğ»ÑƒÑ‡ÑˆĞµ
    double contrastScore;        // 0-100, Ğ²Ñ‹ÑˆĞµ = Ğ»ÑƒÑ‡ÑˆĞµ
    double sharpnessScore;       // 0-100, Ğ²Ñ‹ÑˆĞµ = Ğ»ÑƒÑ‡ÑˆĞµ
    double overexposedPercent;   // 0-100, Ğ½Ğ¸Ğ¶Ğµ = Ğ»ÑƒÑ‡ÑˆĞµ
    double overallScore;         // 0-100, Ğ²Ñ‹ÑˆĞµ = Ğ»ÑƒÑ‡ÑˆĞµ
    QString status;              // Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ
    bool isValid;                // Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
    
    QualityResult() : noiseScore(0), contrastScore(0), 
                      sharpnessScore(0), overexposedPercent(0),
                      overallScore(0), status(""), isValid(false) {}
};
```

#### Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°

```cpp
QualityResult ImageQualityAnalyzer::analyze(const cv::Mat& frame)
{
    QualityResult result;
    result.isValid = false;
    
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚Ğ¸ ĞºĞ°Ğ´Ñ€Ğ°
    if (frame.empty() || frame.cols < 10 || frame.rows < 10) {
        result.status = "ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ´Ñ€";
        result.overallScore = 0.0;
        return result;
    }
    
    try {
        // ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ² Ğ³Ñ€Ğ°Ğ´Ğ°Ñ†Ğ¸Ğ¸ ÑĞµÑ€Ğ¾Ğ³Ğ¾
        cv::Mat grayFrame;
        if (frame.channels() == 3) {
            cv::cvtColor(frame, grayFrame, cv::COLOR_BGR2GRAY);
        } else {
            grayFrame = frame.clone();
        }
        
        // Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ²ÑĞµÑ… Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
        double noiseScore = calculateNoiseScore(grayFrame);
        double contrastScore = calculateContrastScore(grayFrame);
        double sharpnessScore = calculateSharpnessScore(grayFrame);
        double overexposedPercent = calculateOverexposedPercentage(grayFrame);
        
        // Ğ’Ğ·Ğ²ĞµÑˆĞµĞ½Ğ½Ğ°Ñ ÑÑƒĞ¼Ğ¼Ğ°
        double overallScore = 
            noiseScore * NOISE_WEIGHT +
            contrastScore * CONTRAST_WEIGHT +
            sharpnessScore * SHARPNESS_WEIGHT +
            (100.0 - overexposedPercent) * OVEREXPOSED_WEIGHT;
        
        // ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ°
        overallScore = std::max(0.0, std::min(100.0, overallScore));
        
        // Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
        result.noiseScore = noiseScore;
        result.contrastScore = contrastScore;
        result.sharpnessScore = sharpnessScore;
        result.overexposedPercent = overexposedPercent;
        result.overallScore = overallScore;
        result.isValid = true;
        
        // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ†ĞµĞ½ĞºĞ¸
        if (result.overallScore >= 80) {
            result.status = "ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğµ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾";
        } else if (result.overallScore >= 60) {
            result.status = "Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞµĞµ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾";
        } else if (result.overallScore >= 40) {
            result.status = "Ğ£Ğ´Ğ¾Ğ²Ğ»ĞµÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾";
        } else if (result.overallScore >= 20) {
            result.status = "ĞŸĞ»Ğ¾Ñ…Ğ¾Ğµ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾";
        } else {
            result.status = "ĞÑ‡ĞµĞ½ÑŒ Ğ¿Ğ»Ğ¾Ñ…Ğ¾Ğµ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾";
        }
    } catch (...) {
        result.status = "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°";
        result.overallScore = 0.0;
    }
    
    emit analysisCompleted(result);
    return result;
}
```

---

## ğŸ”€ Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹

```
actor User
participant MainWindow
participant QThread
participant CameraWorker
participant VideoCapture
participant ImageQualityAnalyzer

User->>MainWindow: addCamera()
activate MainWindow

MainWindow->>MainWindow: validate RTSP URL
alt Invalid URL
    MainWindow-->>User: Show error
else Valid URL
    MainWindow->>QThread: create new thread
    MainWindow->>CameraWorker: create worker(rtspUrl)
    MainWindow->>CameraWorker: moveToThread(thread)
    
    activate CameraWorker
    
    MainWindow->>CameraWorker: connect signals
    MainWindow->>QThread: start()
    
    QThread->>CameraWorker: started()
    CameraWorker->>CameraWorker: startCapture()
    CameraWorker->>VideoCapture: open(rtspUrl)
    
    alt Connection successful
        VideoCapture-->>CameraWorker: success
        CameraWorker->>CameraWorker: create ImageQualityAnalyzer
        CameraWorker->>QTimer: start(FRAME_INTERVAL_MS)
        CameraWorker-->>MainWindow: connectionStatusChanged(true)
        MainWindow->>MainWindow: update status bar
    else Connection failed
        VideoCapture-->>CameraWorker: failed
        CameraWorker-->>MainWindow: errorOccurred()
        MainWindow-->>User: Show error
    end
end

deactivate CameraWorker
deactivate MainWindow
```

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºĞ°Ğ´Ñ€Ğ°

```
participant QTimer
participant CameraWorker
participant VideoCapture
participant ImageQualityAnalyzer
participant MainWindow
participant QLabel

loop Every FRAME_INTERVAL_MS
    QTimer->>CameraWorker: timeout()
    activate CameraWorker
    
    CameraWorker->>VideoCapture: read(frame)
    
    alt Frame received
        VideoCapture-->>CameraWorker: frame
        CameraWorker->>ImageQualityAnalyzer: matToQImage(frame)
        ImageQualityAnalyzer-->>CameraWorker: QImage
        
        CameraWorker->>MainWindow: frameReady(image)
        MainWindow->>QLabel: setPixmap(image)
        
        CameraWorker->>CameraWorker: check frameSkipCounter
        alt Should analyze (every 10th frame)
            CameraWorker->>ImageQualityAnalyzer: analyze(frame)
            ImageQualityAnalyzer-->>CameraWorker: QualityResult
            
            CameraWorker->>MainWindow: qualityResultReady(result)
            MainWindow->>MainWindow: update metrics
        end
    else Frame empty
        CameraWorker->>CameraWorker: tryReconnect()
    end
    
    deactivate CameraWorker
end
```

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸: ĞŸĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

```
participant CameraWorker
participant VideoCapture
participant MainWindow

CameraWorker->>CameraWorker: tryReconnect()
activate CameraWorker

alt reconnect attempts < MAX
    CameraWorker->>VideoCapture: release()
    CameraWorker->>QThread: sleep(exponential backoff)
    
    CameraWorker->>VideoCapture: open(rtspUrl)
    
    alt Reconnect successful
        VideoCapture-->>CameraWorker: success
        CameraWorker-->>MainWindow: connectionStatusChanged(true)
    else Reconnect failed
        VideoCapture-->>CameraWorker: failed
        CameraWorker->>CameraWorker: increment attempts
        CameraWorker-->>MainWindow: connectionStatusChanged(false)
    end
else Max attempts reached
    CameraWorker-->>MainWindow: errorOccurred()
    CameraWorker->>CameraWorker: stopCapture()
end

deactivate CameraWorker
```

---

## ğŸ§® ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°

### ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° ÑˆÑƒĞ¼Ğ½Ğ¾ÑÑ‚Ğ¸ (Noise)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ğ Ğ°ÑÑ‡ĞµÑ‚ ÑˆÑƒĞ¼Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Ğ’Ğ¥ĞĞ”:  frame (cv::Mat, grayscale)                               â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 1: Gaussian Blur                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚  blurred = GaussianBlur(frame, 5Ã—5, sigma=0)                     â”‚
â”‚                                                                 â”‚
â”‚         frame                    blurred                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚            â”‚ â–’â–’â–’â–’â–’â–’â–’â–’â–’ â”‚                      â”‚
â”‚    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚   blur    â”‚ â–’â–’â–’â–’â–’â–’â–’â–’â–’ â”‚                      â”‚
â”‚    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ â–’â–’â–’â–’â–’â–’â–’â–’â–’ â”‚                      â”‚
â”‚    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚            â”‚ â–’â–’â–’â–’â–’â–’â–’â–’â–’ â”‚                      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 2: Ğ Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  diff = |frame - blurred|                                        â”‚
â”‚                                                                 â”‚
â”‚         frame          blurred           diff                   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚    â”‚ â–’â–’â–’â–’â–’â–’â–’â–’â–’ â”‚    â”‚ â–ˆ â–ˆ â–ˆ â–ˆ â–ˆ â”‚             â”‚
â”‚    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚ â”€â”€â”€â”‚ â–’â–’â–’â–’â–’â–’â–’â–’â–’ â”‚â”€â”€â”€â–¶â”‚ â–ˆ â–ˆ â–ˆ â–ˆ â–ˆ â”‚             â”‚
â”‚    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚    â”‚ â–’â–’â–’â–’â–’â–’â–’â–’â–’ â”‚    â”‚ â–ˆ â–ˆ â–ˆ â–ˆ â–ˆ â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 3: Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñ‹                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚  noiseLevel = mean(diff)                                         â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 4: Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¾Ñ†ĞµĞ½ĞºĞ¸                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  noiseScore = 100 - (noiseLevel / MAX_NOISE_VARIANCE) Ã— 100    â”‚
â”‚                                                                 â”‚
â”‚  Ğ’Ğ«Ğ¥ĞĞ”: noiseScore (0-100)                                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ:** O(n) Ğ³Ğ´Ğµ n = ÑˆĞ¸Ñ€Ğ¸Ğ½Ğ° Ã— Ğ²Ñ‹ÑĞ¾Ñ‚Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ

### ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸ (Contrast)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ğ Ğ°ÑÑ‡ĞµÑ‚ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Ğ’Ğ¥ĞĞ”:  frame (cv::Mat, grayscale)                              â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ¸ÑĞº min/max Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                â”‚
â”‚  minVal, maxVal = minMaxLoc(frame)                              â”‚
â”‚                                                                 â”‚
â”‚         pixel values                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚    â”‚  10  45  78  120  200    â”‚                                 â”‚
â”‚    â”‚  15  50  85  130  210    â”‚                                 â”‚
â”‚    â”‚  ...                     â”‚                                 â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚              â”‚              â”‚                                    â”‚
â”‚              â–¼              â–¼                                    â”‚
â”‚         minVal=10       maxVal=250                              â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 2: Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ°                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  contrastRange = maxVal - minVal                                 â”‚
â”‚               = 250 - 10 = 240                                  â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 3: Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¾Ñ†ĞµĞ½ĞºĞ¸                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  contrastScore = (contrastRange / IDEAL_CONTRAST) Ã— 100        â”‚
â”‚                = (240 / 160) Ã— 100 = 150 â†’ 100 (Ğ¾Ğ±Ñ€ĞµĞ·Ğ°Ğ½Ğ¾)      â”‚
â”‚                                                                 â”‚
â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: Ğ•ÑĞ»Ğ¸ contrastRange > 250,                         â”‚
â”‚  Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ ÑˆÑ‚Ñ€Ğ°Ñ„ 20%                                          â”‚
â”‚                                                                 â”‚
â”‚  Ğ’Ğ«Ğ¥ĞĞ”: contrastScore (0-100)                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° Ñ€ĞµĞ·ĞºĞ¾ÑÑ‚Ğ¸ (Sharpness)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ğ Ğ°ÑÑ‡ĞµÑ‚ Ñ€ĞµĞ·ĞºĞ¾ÑÑ‚Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Ğ’Ğ¥ĞĞ”:  frame (cv::Mat, grayscale)                              â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 1: ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Laplacian                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚  laplacian = Laplacian(frame, CV_64F, kernel=3)               â”‚
â”‚                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚    â”‚   â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“   â”‚  Laplacian                              â”‚
â”‚    â”‚   â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“   â”‚ â”€â”€â”€â”€â”€â”€â”€â–¶  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â”‚   â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“   â”‚          â”‚ â–‘â–‘â–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘â–‘â–ˆâ–‘â–‘ â”‚             â”‚
â”‚    â”‚   â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“   â”‚          â”‚ â–‘â–‘â–‘â–‘â–ˆâ–‘â–‘â–ˆâ–‘â–‘â–‘â–ˆâ–‘â–‘ â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 2: Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ´Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ğ¸ Laplacian                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚  mean, stdDev = meanStdDev(laplacian)                           â”‚
â”‚  laplacianVariance = stdDevÂ²                                    â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 3: Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¾Ñ†ĞµĞ½ĞºĞ¸                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  sharpnessScore = (laplacianVariance / IDEAL_SHARPNESS) Ã— 100â”‚
â”‚                                                                 â”‚
â”‚  Ğ˜ĞĞ¢Ğ•Ğ ĞŸĞ Ğ•Ğ¢ĞĞ¦Ğ˜Ğ¯:                                                  â”‚
â”‚  â€¢ Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ´Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ñ â†’ Ñ‡ĞµÑ‚ĞºĞ¸Ğµ ĞºÑ€Ğ°Ñ â†’ Ğ²Ñ‹ÑĞ¾ĞºĞ°Ñ Ñ€ĞµĞ·ĞºĞ¾ÑÑ‚ÑŒ          â”‚
â”‚  â€¢ ĞĞ¸Ğ·ĞºĞ°Ñ Ğ´Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ñ â†’ Ñ€Ğ°Ğ·Ğ¼Ñ‹Ñ‚Ğ¾Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ                      â”‚
â”‚                                                                 â”‚
â”‚  Ğ’Ğ«Ğ¥ĞĞ”: sharpnessScore (0-100)                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° Ğ¿ĞµÑ€ĞµÑĞ²ĞµÑ‡ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ (Overexposed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¿ĞµÑ€ĞµÑĞ²ĞµÑ‡ĞµĞ½Ğ½Ñ‹Ñ… Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Ğ’Ğ¥ĞĞ”:  frame (cv::Mat, grayscale)                              â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 1: Ğ‘Ğ¸Ğ½Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ñƒ                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚  threshold = OVEREXPOSED_THRESHOLD = 245                       â”‚
â”‚  mask = (frame > threshold) ? 255 : 0                          â”‚
â”‚                                                                 â”‚
â”‚         frame                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚    â”‚ 100 150 200 245 255â”‚                                         â”‚
â”‚    â”‚ 120 180 220 250 255â”‚                                         â”‚
â”‚    â”‚ ...               â”‚                                         â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚              â”‚                                                   â”‚
â”‚              â–¼ threshold = 245                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚    â”‚  0   0   0   1  1 â”‚  (1 = Ğ¿ĞµÑ€ĞµÑĞ²ĞµÑ‡ĞµĞ½)                       â”‚
â”‚    â”‚  0   0   0   1  1 â”‚                                         â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 2: ĞŸĞ¾Ğ´ÑÑ‡ĞµÑ‚ Ğ¿ĞµÑ€ĞµÑĞ²ĞµÑ‡ĞµĞ½Ğ½Ñ‹Ñ… Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚  overexposedCount = countNonZero(mask)                         â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 3: Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ°                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                       â”‚
â”‚  totalPixels = frame.rows Ã— frame.cols                         â”‚
â”‚  overexposedPercent = (overexposedCount / totalPixels) Ã— 100 â”‚
â”‚                                                                 â”‚
â”‚  Ğ¨ĞĞ“ 4: Ğ˜Ğ½Ğ²ĞµÑ€ÑĞ¸Ñ Ğ´Ğ»Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ¸                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚
â”‚  overexposedScore = 100 - min(100, overexposedPercent Ã— 2)    â”‚
â”‚                                                                 â”‚
â”‚  Ğ’Ğ«Ğ¥ĞĞ”: overexposedPercent (0-100), overexposedScore           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš ï¸ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

### Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Error Handling System                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸                    â”‚   â”‚
â”‚  â”‚  â€¢ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ RTSP                             â”‚   â”‚
â”‚  â”‚  â€¢ ĞŸÑ€ĞµĞ²Ñ‹ÑˆĞµĞ½Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ                              â”‚   â”‚
â”‚  â”‚  â€¢ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ´ĞµĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ                                  â”‚   â”‚
â”‚  â”‚  ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°: ĞŸĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ, Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ                       â”‚   â”‚
â”‚  â”‚  â€¢ ĞŸÑ€Ğ¾Ğ¿ÑƒÑ‰ĞµĞ½Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ´Ñ€                                     â”‚   â”‚
â”‚  â”‚  â€¢ ĞĞµÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ                               â”‚   â”‚
â”‚  â”‚  â€¢ Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ°                                     â”‚   â”‚
â”‚  â”‚  ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°: Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ                        â”‚   â”‚
â”‚  â”‚  â€¢ Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ                                 â”‚   â”‚
â”‚  â”‚  â€¢ Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾Ğµ Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ                             â”‚   â”‚
â”‚  â”‚  â€¢ Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°                                    â”‚   â”‚
â”‚  â”‚  ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°: Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ ÑĞºÑĞ¿Ğ¾Ğ½ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  attempt #1: wait 1 second                                     â”‚
â”‚  attempt #2: wait 2 seconds                                    â”‚
â”‚  attempt #3: wait 3 seconds                                    â”‚
â”‚  attempt #4: wait 4 seconds                                    â”‚
â”‚  attempt #5: wait 5 seconds                                    â”‚
â”‚                                                                 â”‚
â”‚  Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°: wait_ms = 1000 Ã— attempt_number                      â”‚
â”‚                                                                 â”‚
â”‚  ĞŸĞ¾ÑĞ»Ğµ 5 Ğ½ĞµÑƒĞ´Ğ°Ñ‡Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº:                                     â”‚
â”‚  â†’ ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ñ…Ğ²Ğ°Ñ‚Ğ°                                           â”‚
â”‚  â†’ Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ                                    â”‚
â”‚  â†’ ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

### Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹

| ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ | Ğ’Ñ€ĞµĞ¼Ñ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|----------|-------|------------|
| RTSP Ğ·Ğ°Ñ…Ğ²Ğ°Ñ‚ ĞºĞ°Ğ´Ñ€Ğ° | ~5 Ğ¼Ñ | Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ ÑĞµÑ‚Ğ¸ |
| Ğ”ĞµĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | ~10 Ğ¼Ñ | Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ ĞºĞ¾Ğ´ĞµĞºĞ° |
| ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ² grayscale | ~1 Ğ¼Ñ | |
| ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑˆÑƒĞ¼Ğ½Ğ¾ÑÑ‚Ğ¸ | ~2 Ğ¼Ñ | Gaussian blur |
| ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ÑÑ‚Ğ° | <1 Ğ¼Ñ | min/max |
| ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ€ĞµĞ·ĞºĞ¾ÑÑ‚Ğ¸ | ~5 Ğ¼Ñ | Laplacian |
| ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¿ĞµÑ€ĞµÑĞ²ĞµÑ‚Ğ¾Ğ² | ~2 Ğ¼Ñ | Threshold |
| ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ² QImage | ~2 Ğ¼Ñ | |
| GUI update | ~3 Ğ¼Ñ | |
| **Total per frame** | **~30 Ğ¼Ñ** | ~33 FPS |
| **Quality analysis** | **~10 Ğ¼Ñ** | ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ 10-Ğ¹ ĞºĞ°Ğ´Ñ€ |

### ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

#### 1. ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞº ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°

```cpp
// ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 10 ĞºĞ°Ğ´Ñ€Ğ¾Ğ²
// Ğ¡Ğ½Ğ¸Ğ¶Ğ°ĞµÑ‚ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ Ğ½Ğ° CPU Ğ² 10 Ñ€Ğ°Ğ·
if (m_frameSkipCounter >= QUALITY_ANALYSIS_SKIP) {
    m_frameSkipCounter = 0;
    // Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·
}
```

#### 2. ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ±ÑƒÑ„ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

```cpp
// Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ±ÑƒÑ„ĞµÑ€Ğ° = 1 Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸
m_videoCapture.set(cv::CAP_PROP_BUFFERSIZE, 1);
```

#### 3. ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹

```cpp
// Qt::QueuedConnection Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¾Ñ‚Ğ°
// Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğµ Ñ†ĞµĞ»ĞµĞ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°
connect(worker, &CameraWorker::frameReady, 
    this, &MainWindow::updateFrame, 
    Qt::QueuedConnection);
```

### ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞŸĞ°Ğ¼ÑÑ‚ÑŒ |
|-----------|--------|
| ĞĞ´Ğ¸Ğ½ ĞºĞ°Ğ´Ñ€ (1080p, BGR) | ~6 ĞœĞ‘ |
| ĞĞ´Ğ¸Ğ½ ĞºĞ°Ğ´Ñ€ (1080p, grayscale) | ~2 ĞœĞ‘ |
| ImageQualityAnalyzer | ~1 ĞœĞ‘ |
| CameraWorker | ~1 ĞœĞ‘ |
| GUI overhead | ~30 ĞœĞ‘ |
| **Total per camera** | **~50 ĞœĞ‘** |

### ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ°Ğ¼ĞµÑ€ vs FPS:                                       â”‚
â”‚                                                                 â”‚
â”‚  10 â”‚                                      â—                   â”‚
â”‚   8 â”‚                                 â—                       â”‚
â”‚   6 â”‚                            â—                            â”‚
â”‚   4 â”‚                       â—                                 â”‚
â”‚   2 â”‚           â—                                          â”‚
â”‚   0 â”‚â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚       1    2    3    4    5    6    7    8    9   10          â”‚
â”‚                     ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ°Ğ¼ĞµÑ€                             â”‚
â”‚                                                                 â”‚
â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: FPS ÑĞ½Ğ¸Ğ¶Ğ°ĞµÑ‚ÑÑ Ğ»Ğ¸Ğ½ĞµĞ¹Ğ½Ğ¾ Ñ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ¼ ĞºĞ°Ğ¼ĞµÑ€              â”‚
â”‚  Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾: 4-6 ĞºĞ°Ğ¼ĞµÑ€ Ğ½Ğ° Ñ‚Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ğ¾Ğ¼ ĞŸĞš            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

### ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

1. **ĞœĞ½Ğ¾Ğ³Ğ¾Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ:** Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ ĞºĞ°Ğ¼ĞµÑ€Ñ‹ Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞµ
2. **ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ:** Qt Signals/Slots Ñ queued connections
3. **ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:** Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° MainWindow, CameraWorker, ImageQualityAnalyzer
4. **ĞÑ‚ĞºĞ°Ğ·Ğ¾ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ ÑĞºÑĞ¿Ğ¾Ğ½ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹
5. **ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:** ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞº ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°

### ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹

| ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½ | ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ |
|---------|------------|
| Producer-CameraWorker | RTSP Ğ¿Ğ¾Ñ‚Ğ¾Ğº â†’ ĞšĞ°Ğ´Ñ€Ñ‹ |
| Observer | Signals/Slots |
| Strategy | ImageQualityAnalyzer |
| Factory | Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ CameraWorker |

---

**Ğ’ĞµÑ€ÑĞ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸:** 1.0  
**Ğ”Ğ°Ñ‚Ğ°:** 2024
